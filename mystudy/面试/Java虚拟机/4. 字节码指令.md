# å­—èŠ‚ç æŒ‡ä»¤

[toc]

# å…¥é—¨

æ¥ç€ä¸Šä¸€èŠ‚ï¼Œç ”ç©¶ä¸€ä¸‹ä¸¤ç»„å­—èŠ‚ç æŒ‡ä»¤ï¼Œä¸€ä¸ªæ˜¯

```java
package cn.chasing.jvm.t3
// HelloWorldç¤ºä¾‹
public class HelloWorld {
  public static void main(String[] args) {
    System.out.println("hello world");
  }
}
```

public cn.itcast.jvm.t5.HelloWorld(); æ„é€ æ–¹æ³•çš„å­—èŠ‚ç æŒ‡ä»¤

![image-20210917110912675](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/d61a16ba1f7c1c267170cf732e2f8672.png)

1. 2a => *aload_0* åŠ è½½ slot 0 çš„å±€éƒ¨å˜é‡ï¼Œå³ thisï¼Œåšä¸ºä¸‹é¢çš„ *invokespecial* æ„é€ æ–¹æ³•è°ƒç”¨çš„å‚æ•°
2. b7 => *invokespecial* é¢„å¤‡è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œå“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ
3. 00 01 å¼•ç”¨å¸¸é‡æ± ä¸­ #1 é¡¹ï¼Œå³ã€ Method java/lang/Object.""ğŸ˜¦)V ã€‘
4. b1 è¡¨ç¤ºè¿”å›

å¦ä¸€ä¸ªæ˜¯ public static void main(java.lang.String[]); ä¸»æ–¹æ³•çš„å­—èŠ‚ç æŒ‡ä»¤

![image-20210917111213650](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/345e1450c8f587fe37b75c0edc7a2561.png)

1. b2 => *getstatic* ç”¨æ¥åŠ è½½é™æ€å˜é‡ï¼Œå“ªä¸ªé™æ€å˜é‡å‘¢ï¼Ÿ
2. 00 02 å¼•ç”¨å¸¸é‡æ± ä¸­ #2 é¡¹ï¼Œå³ã€Field java/lang/System.out:Ljava/io/PrintStream;ã€‘
3. 12 => *ldc* åŠ è½½å‚æ•°ï¼Œå“ªä¸ªå‚æ•°å‘¢ï¼Ÿ
4. 03 å¼•ç”¨å¸¸é‡æ± ä¸­ #3 é¡¹ï¼Œå³ ã€String hello worldã€‘
5. b6 => *invokevirtual* é¢„å¤‡è°ƒç”¨æˆå‘˜æ–¹æ³•ï¼Œå“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ
6. 00 04 å¼•ç”¨å¸¸é‡æ± ä¸­ #4 é¡¹ï¼Œå³ã€Method java/io/PrintStream.println:(Ljava/lang/String;)Vã€‘
7. b1 è¡¨ç¤ºè¿”å›

è¯·å‚è€ƒ

https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5

# javapå·¥å…·

å°†classæ–‡ä»¶åç¼–è¯‘ã€‚

![image-20220127092525866](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127092525866.png)

# å›¾è§£æ–¹æ³•æ‰§è¡Œæµç¨‹

## åŸå§‹javaä»£ç 

```java
public class Demo3_1 {
    public static void main(String[] args) {
        int a = 10;
        int b = Short.MAX_VALUE+1;
        int c = a+b;
        System.out.println(c);
    }
}
```



## ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶

![image-20220127093315984](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127093315984.png)

![image-20220127093329251](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127093329251.png)

## å¸¸é‡æ± è½½å…¥è¿è¡Œæ—¶å¸¸é‡æ± 

ç±»åŠ è½½æ—¶ï¼Œé€šè¿‡ç±»åŠ è½½å™¨å°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚

å…¶ä¸­å¸¸é‡æ± ä¸­çš„æ–‡ä»¶è¢«åŠ è½½åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚å±äºæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚

Classçš„æ–‡ä»¶ä¿¡æ¯éƒ½å­˜å‚¨åœ¨è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ï¼Œä¹‹åç¨‹åºéœ€è¦çš„æ—¶å€™ï¼Œéƒ½è¿›å…¥è¿è¡Œæ—¶å¸¸é‡æ± ä¸­å¯»æ‰¾ã€‚

æ³¨æ„ï¼šç¬¬ä¸‰é¡¹32768

![image-20220127093635723](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127093635723.png)

![image-20210924111440781](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/3766afd4f97b4150ca27c4b3224fa9e4.png)

## æ–¹æ³•å­—èŠ‚ç è½½å…¥æ–¹æ³•åŒº

![image-20210924111506534](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/96b47dd43e9e214806567bdfdc6d3258.png)

## mainçº¿ç¨‹å¼€å§‹è¿è¡Œï¼Œåˆ†é…æ ˆå¸§å†…å­˜

ï¼ˆstack=2ï¼Œlocal=4ï¼‰è¿™ä¸¤é¡¹å†³å®šäº†æ ˆå¸§çš„å¤§å°ã€‚

![image-20220127093933657](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127093933657.png)

![image-20220127093946182](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127093946182.png)

- stack æ“ä½œæ•°æ ˆæ·±åº¦ï¼Œå³åªå…è®¸æ ˆå†…ä¸¤ä¸ªæ“ä½œæ•°
- localå³æœ¬åœ°å˜é‡è¡¨ï¼Œå³èƒ½ä¸ºæœ¬åœ°å˜é‡åˆ†é…å››ä¸ªæ§½ä½

åˆ›å»ºå¥½æ“ä½œæ•°æ ˆå’Œå±€éƒ¨å˜é‡è¡¨åï¼Œæ‰§è¡Œæ®·å‹¤å°±å¼€å§‹ä¸€ä¸ªä¸ªæ‰§è¡Œäº†ã€‚

## æ‰§è¡Œå¼•æ“å¼€å§‹æ‰§è¡Œå­—èŠ‚ç 

### bipush10

- bipush10 å°†ä¸€ä¸ª byte å‹å…¥æ“ä½œæ•°æ ˆï¼ˆå…¶é•¿åº¦ä¼šè¡¥é½ 4 ä¸ªå­—èŠ‚ï¼‰
- æ³¨æ„ï¼š
  - æ“ä½œæ•°æ ˆçš„å®½åº¦æ˜¯4ä¸ªå­—èŠ‚
  - ä¸¾ä¾‹ï¼šbyteæ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œæ·»åŠ çš„æ—¶å€™ï¼Œä¸è¶³å››ä¸ªå­—èŠ‚çš„éƒ¨åˆ†ç”¨0æˆ–1è¡¥é½ã€‚
- ç±»ä¼¼çš„byteæŒ‡ä»¤è¿˜æœ‰
  - sipush å°†ä¸€ä¸ª short å‹å…¥æ“ä½œæ•°æ ˆï¼ˆå…¶é•¿åº¦ä¼šè¡¥é½ 4 ä¸ªå­—èŠ‚ï¼‰
  - ldc ï¼ˆæ‰¾åˆ°å¸¸é‡æ± ä¸­çš„ä¸€é¡¹ï¼‰å°†ä¸€ä¸ª int å‹å…¥æ“ä½œæ•°æ ˆ
  - ldc2_w å°†ä¸€ä¸ª long å‹å…¥æ“ä½œæ•°æ ˆï¼ˆåˆ†ä¸¤æ¬¡å‹å…¥ï¼Œå› ä¸º long æ˜¯ 8 ä¸ªå­—èŠ‚ï¼‰
- è¿™é‡Œå°çš„æ•°å­—éƒ½æ˜¯å’Œå­—èŠ‚ç æŒ‡ä»¤å­˜åœ¨ä¸€èµ·ï¼Œè¶…è¿‡ short èŒƒå›´çš„æ•°å­—å­˜å…¥äº†å¸¸é‡æ± 

![image-20210924112034863](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/352840d8d678e6f2d26e407f015c5277.png)

bipush 10  å°†10è¿™ä¸ªæ“ä½œæ•°æ”¾å…¥åˆ°äº†æ“ä½œæ•°æ ˆä¸­ã€‚å¯¹åº”ï¼šint a = 10;ä¸­çš„10

### istore_1

- æ‰§è¡Œå¼•æ“æ‰§è¡Œåˆ°ç¬¬äºŒè¡Œ  istore 1 
- å°†æ“ä½œæ•°æ ˆé¡¶æ•°æ®å¼¹å‡ºï¼Œå­˜å…¥å±€éƒ¨å˜é‡è¡¨ä¸­ ï¼ˆ istore 1 ä¸­çš„1æ ‡è¯†å­˜å…¥åˆ°å“ªä¸ªæ§½ä½  slot1ï¼‰  ï¼Œ ä¸€å…±æœ‰å››ä¸ªæ§½ä½ã€‚ 
- ç»“æœï¼šå¼¹å‡º10ï¼Œèµ‹å€¼ç»™aã€‚ æœ€ç»ˆå®Œæˆint  a = 10;

![image-20210924112215894](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0c541a08014352a2559ec278d8b46fe6.png)

![image-20210924112234290](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0e7374144f6ae15327759ad03deae521.png)

### ldc #3

- ldc:æŠŠè¿è¡Œæ—¶å¸¸é‡æ± ä¸­çš„æ•°æ®åŒºå‡ºæ¥ï¼Œæ”¾å…¥æ“ä½œæ•°æ ˆã€‚
- ä»å¸¸é‡æ± åŠ è½½ #3 æ•°æ®åˆ°æ“ä½œæ•°æ ˆ
- **æ³¨æ„** Short.MAX_VALUE æ˜¯ 32767ï¼Œæ‰€ä»¥ 32768 = Short.MAX_VALUE + 1 å®é™…æ˜¯åœ¨ç¼–è¯‘æœŸé—´è®¡ç®—å¥½çš„ï¼ˆå¸¸é‡æŠ˜å ä¼˜åŒ–ï¼‰
  - Short.MAX_VALUE è¶…è¿‡shortçš„å–å€¼èŒƒå›´ï¼Œå­˜å‚¨åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚ï¼ˆå‡¡æ˜¯è¶…è¿‡shortèŒƒå›´çš„æ•°æ®éƒ½å­˜å‚¨åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ï¼‰
  - æ²¡æœ‰è¶…è¿‡shortçš„å’Œæ–¹æ³•çš„å­—èŠ‚ç æŒ‡ä»¤å­˜åœ¨ä¸€èµ·
  - ![image-20220127103742135](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127103742135.png)

![image-20210924112356501](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/809987453fe7cd9bfc67296e4a2703e1.png)

### istore_2

å°†æ ˆé¡¶æ•°æ®å¼¹å‡ºæ¥ï¼Œèµ‹å€¼ç»™2å·æ§½ä½

å®Œæˆbçš„èµ‹å€¼

![image-20210924112955648](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/7fb6ed85532a8a6d04937962e5e0dadf.png)

### iload_1

æ‰§è¡Œc=a+bçš„æ“ä½œã€‚

a+bçš„æ“ä½œéƒ½å¿…é¡»åœ¨æ“ä½œæ•°æ ˆä¸­å®Œæˆã€‚

iload_1ï¼šå°†1å·ä½çš„æ•°æ®æ”¾å…¥æ“ä½œæ•°æ ˆä¸­

![image-20210924113031356](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/e0934848dee23a68bb83443e728f58be.png)

### iload_2

å°†äºŒå·ä½çš„æ•°æ®æ”¾å…¥æ“ä½œæ•°æ ˆä¸Šã€‚

![image-20210924113108640](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/b5d5b0390155e6179847132cbb93cbe4.png)

### iadd

å°†æ“ä½œæ ˆä¸­çš„æ•°æ®è¿›è¡Œç›¸åŠ 

![image-20210924113139808](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/58efd6c9b4c218e470f20a32c644c8b9.png)

### istore_3

åŠ è½½æ“ä½œæ•°æ ˆä¸­çš„æ•°æ®åˆ°3å·æ§½ä½ï¼Œå®Œæˆcçš„èµ‹å€¼ã€‚

![image-20210924113229028](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0a1c631a8a0eded0dd8b9d89ebad667a.png)

### getstatic #4

![image-20220127101134698](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127101134698.png)

1. è·å–å¸¸é‡æ± ä¸­çš„ç¬¬å››é¡¹ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æ‰€å±ç±»æ˜¯Systemç±»ï¼Œå¯¹è±¡çš„åç§°æ˜¯outï¼Œå¯¹è±¡çš„ç±»å‹æ˜¯PrintStream
2. ![image-20220127101342071](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127101342071.png)
3. outæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å †ä¸­å­˜å‚¨ï¼Œå› æ­¤æ“ä½œæ•°æ ˆä¸­å­˜çš„æ˜¯å¼•ç”¨ã€‚

![image-20210924113302422](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/d9977d205a3ac41b870f321465e51c38.png)

![image-20210924113321963](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/5ed1c6793a7bad3d842ba838d667a8a1.png)

### iload_3

1. åŠ è½½å¸¸é‡æ± ä¸­çš„ç¬¬ä¸‰é¡¹åˆ°æ“ä½œæ•°æ ˆ
2. å³å°†cæ·»åŠ åˆ°äº†æ“ä½œæ•°æ ˆä¸­

![image-20210924113350170](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/df9803322c4c85565d99b315588fc22f.png)

### invokevirtual #5

![image-20220127101722091](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127101722091.png)

- æ‰¾åˆ°å¸¸é‡æ±  #5 é¡¹
- å®šä½åˆ°æ–¹æ³•åŒº java/io/PrintStream.println:(I)V æ–¹æ³•
  - æ–¹æ³•æ‰€åœ¨ç±»æ˜¯PrintStream
  - æ–¹æ³•çš„åç§°æ˜¯println
  - æ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯Voidï¼Œæ¥å—çš„å‚æ•°æ˜¯int
- ç”Ÿæˆæ–°çš„æ ˆå¸§ï¼ˆåˆ†é… localsã€stackç­‰ï¼‰
- ä¼ é€’å‚æ•°ï¼Œæ‰§è¡Œæ–°æ ˆå¸§ä¸­çš„å­—èŠ‚ç 

![image-20210924113452774](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/814ee8571a7ca9b0caae0346c643e2da.png)

- æ‰§è¡Œå®Œæ¯•ï¼Œå¼¹å‡ºæ ˆå¸§
- æ¸…é™¤ main æ“ä½œæ•°æ ˆå†…å®¹

![image-20210924113515490](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/34a615bccbc442d7d9f6a6e3444730db.png)

### return

- å®Œæˆ main æ–¹æ³•è°ƒç”¨ï¼Œå¼¹å‡º main æ ˆå¸§
- ç¨‹åºç»“æŸ

# ç»ƒä¹ ï¼šåˆ†æa++

**æºç **

```java
public class Demo3_2 {
    public static void main(String[] args) {
        int a = 10;
        int b = a++ + ++a + a--;
        System.out.println(a);
        System.out.println(b);
    }
}
```



**å­—èŠ‚ç **

![image-20220127105952567](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127105952567.png)

![image-20220127110007246](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127110007246.png)

**åˆ†æ**

- æ³¨æ„ iinc æŒ‡ä»¤æ˜¯ç›´æ¥åœ¨å±€éƒ¨å˜é‡ slot ä¸Šè¿›è¡Œè¿ç®—
  - iinc   1  1   è¡¨ç¤ºåœ¨å‡ å·æ§½ä½ï¼Œè‡ªå¢å‡ 
  - iadd   æ“ä½œæ•°æ ˆä¸­çš„æ•°æ®ç›¸åŠ ï¼Œè¡¨ç¤ºjavaä»£ç ä¸­çš„+å·ã€‚
- a++ å’Œ ++a çš„åŒºåˆ«æ˜¯å…ˆæ‰§è¡Œ iload è¿˜æ˜¯ å…ˆæ‰§è¡Œ iinc
  - a++ å…ˆæ‰§è¡Œ iloadï¼Œå†æ‰§è¡Œ iinc
  - ++a  å…ˆæ‰§è¡Œ iinc,å†æ‰§è¡Œiload

![image-20210924165807165](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/988365c026408c8ba9b43f4ae77bcc39.png)

![image-20210924165908486](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/da3b8d10eb6829f96fe5eb1e409879d9.png)

![image-20210924170057846](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/8077ccb15e84e3738163b2d0f5c6b382.png)

![image-20210924170221454](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/5afa487ee95da7268dc109f156b50237.png)

![image-20210924170548957](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/4f1c2b248875f1695c11eb3dbc7a37e6.png)

![image-20210924170650885](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/31637e516f081ed6967830c96a47ff5c.png)

![image-20210924170740778](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0960fe82998c8d1613075d1b1151311c.png)

![image-20210924170906586](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/ca288a17547531a040c4afa33d46e056.png)

![image-20210924170954460](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/1acdca0ff1d2b9fca762362ff05180fb.png)

![image-20210924171036917](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/a30777410f5aa4ea5065b7a9b5884276.png)

![image-20210924171109858](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/638fe485a584c589343cdc480824912c.png)

# æ¡ä»¶åˆ¤æ–­æŒ‡ä»¤

| äºŒè¿›åˆ¶ | å­—èŠ‚ç     | å«ä¹‰             |
| ------ | --------- | ---------------- |
| 0x99   | ifeq      | åˆ¤æ–­æ˜¯å¦ == 0    |
| 0x9a   | ifne      | åˆ¤æ–­æ˜¯å¦ !=0     |
| 0x9b   | iflt      | åˆ¤æ–­æ˜¯å¦ < 0     |
| 0x9c   | ifge      | åˆ¤æ–­æ˜¯å¦ >= 0    |
| 0x9d   | ifgt      | åˆ¤æ–­æ˜¯å¦ > 0     |
| 0x9e   | ifle      | åˆ¤æ–­æ˜¯å¦ <= 0    |
| 0x9f   | if_icmpeq | ä¸¤ä¸ªintæ˜¯å¦ ==   |
| 0xa0   | if_icmpne | ä¸¤ä¸ªintæ˜¯å¦ !=   |
| 0xa1   | if_icmplt | ä¸¤ä¸ªintæ˜¯å¦ <    |
| 0xa2   | if_icmpge | ä¸¤ä¸ªintæ˜¯å¦ >=   |
| 0xa3   | if_icmpgt | ä¸¤ä¸ªintæ˜¯å¦ >    |
| 0xa4   | if_icmple | ä¸¤ä¸ªintæ˜¯å¦ <=   |
| 0xa5   | if_acmpeq | ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦ ==  |
| 0xa6   | if_acmpne | ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦ !=  |
| 0xc6   | ifnull    | åˆ¤æ–­æ˜¯å¦ == null |
| 0xc7   | ifnonnull | åˆ¤æ–­æ˜¯å¦ != null |

ç›¸å…³æŸ¥è¯¢ï¼š

å‡ ç‚¹è¯´æ˜ï¼š

- byteï¼Œshortï¼Œchar éƒ½ä¼šæŒ‰ int æ¯”è¾ƒï¼Œå› ä¸ºæ“ä½œæ•°æ ˆéƒ½æ˜¯ 4 å­—èŠ‚
- goto ç”¨æ¥è¿›è¡Œè·³è½¬åˆ°æŒ‡å®šè¡Œå·çš„å­—èŠ‚ç 

## if

**æºç **

```java
public class Demo3_3 {
    public static void main(String[] args) {
        int a =0;
        if (a == 0) a = 10;
        else a = 20;
    }
}
```

**å­—èŠ‚ç **

iconst_0 è¡¨ç¤º0ï¼Œ-1åˆ°5ä¹‹é—´çš„æ•°æ®ä½¿ç”¨iconnstè¡¨ç¤ºã€‚iconst_m1(-1) â€”iconst5

![image-20220127111412409](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127111412409.png)

![image-20220127111423026](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127111423026.png)

**è§£æ**

![image-20220127111808390](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127111808390.png)

# å¾ªç¯æ§åˆ¶æŒ‡ä»¤

## whileå¾ªç¯

æºç 

![image-20210925105448736](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/c452449e9ae4d23989f2cc436d39579d.png)

å­—èŠ‚ç 

![image-20210925105516430](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/037e036686bb428080454b9ff3c689ab.png)

## do whileå¾ªç¯

æºç 

![image-20210925105600444](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/15bff9267cacd94dcfa05f65dbfe7bad.png)

å­—èŠ‚ç 

![image-20210925110919606](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/1fec7433ffa43a3c44b1e2105b099d04.png)

- ä¹‹å‰æ¡ˆä¾‹çš„a++å…ˆiloadåœ¨iincï¼Œæ˜¯å› ä¸ºåœ¨è‡ªå¢ä¹‹å‰æœ‰èµ‹å€¼æ“ä½œï¼Œéœ€è¦æ”¾å¦‚æ“ä½œæ•°æ ˆ
- a = a++ï¼Œç”±äºå…ˆæœ‰ = çš„èµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥å…ˆæŠŠaçš„å€¼æ”¾åˆ°æ“ä½œæ•°æ ˆï¼Œiloadï¼Œiinc
- æ­¤å¤„åªæ˜¯a++ï¼Œæ‰€ä»¥åªæ˜¯iinc
- åªæ˜¯ç”±äºåé¢æœ‰ < æ¯”è¾ƒæ“ä½œï¼Œæ‰€ä»¥æœ‰iloadæ“ä½œ

## forå¾ªç¯

æºç 

![image-20210925105642347](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/52afa65c44396b2d5abc2357bbd25f44.png)

forå¾ªç¯å­—èŠ‚ç 

![image-20210925105657311](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/d6dc8448053615e260dc33a780eabf1d.png)

**æ³¨æ„**

æ¯”è¾ƒ while å’Œ for çš„å­—èŠ‚ç ï¼Œä½ å‘ç°å®ƒä»¬æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ®Šé€”ä¹Ÿèƒ½åŒå½’

# ç»ƒä¹ -åˆ†æx=0

æºç 

![image-20210925105819870](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/7ea4fe1ed8a4d0c7b56029e3b3befe9f.png)

- x = 0ï¼Œä¼šå°†0èµ‹å€¼ç»™xæ‰€åœ¨æœ¬åœ°å˜é‡è¡¨çš„æŸä¸ªæ§½ä½
- ç”±äºæ˜¯x++ï¼Œæ‰€ä»¥æ˜¯å…ˆæŠŠxçš„å€¼ä»æ§½ä½æ‹·è´åˆ°æ“ä½œæ•°æ ˆï¼›ç„¶åxå†åœ¨æ§½ä½ä¸Šæ‰§è¡Œè‡ªå¢å˜æˆ1
- åœ¨æ“ä½œæ•°æ ˆä¸­ï¼Œå¯¹xè¿›è¡Œèµ‹å€¼æ“ä½œ x = x++ï¼Œæ“ä½œæ•°æ ˆä¸­x++çš„å€¼æ˜¯0ï¼Œå†é‡æ–°èµ‹å€¼ç»™x
- xçš„å€¼ä»è‡ªå¢çš„1ï¼Œè¢«èµ‹å€¼æ“ä½œè¦†ç›–æˆäº†0
- æ‰€ä»¥ä¸ç®¡å¾ªç¯èµ‹å€¼å¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯0

# æ„é€ æ–¹æ³•

## < cinit >()V

é™æ€ä»£ç å—å’Œé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–

```java
public class Demo3_8_1 {
    static int i = 10;

    static {
        i = 20;
    }

    static {
        i = 30;
    }

 
}
```

**ç¼–è¯‘å™¨ä¼šæŒ‰ä»ä¸Šè‡³ä¸‹çš„é¡ºåºï¼Œæ”¶é›†æ‰€æœ‰ static é™æ€ä»£ç å—å’Œé™æ€æˆå‘˜èµ‹å€¼çš„ä»£ç ï¼Œåˆå¹¶ä¸ºä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³• < cinit >()V ï¼š**

![image-20220127113556584](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127113556584.png)

bipush:æ“ä½œæ•°æ ˆæ”¾å…¥10

putstaticï¼šç»™ièµ‹å€¼10

bipushï¼šæ“ä½œæ•°æ ˆæ”¾å…¥20

putstaticï¼šç»™ièµ‹å€¼20

.............

< cinit >()V æ–¹æ³•ä¼šåœ¨ç±»åŠ è½½çš„åˆå§‹åŒ–é˜¶æ®µè¢«è°ƒç”¨

ä¸Šè¿°ä»£ç å’Œä¸‹é¢çš„ä»£ç å½¢æˆçš„å­—èŠ‚ç æŒ‡ä»¤åŸºæœ¬ä¸€è‡´ï¼š

![image-20220127114215640](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/image-20220127114215640.png)

## < init >()V

ä»£ç å—å’Œæˆå‘˜å˜é‡åˆå§‹åŒ–

![image-20210925163022085](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0f6a211e5d06bab5cf766a500818491c.png)

![image-20210925163034579](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/55fe665c7c01dd151b9fb4e31f410cf6.png)

ç¼–è¯‘å™¨ä¼šæŒ‰ä»ä¸Šè‡³ä¸‹çš„é¡ºåºï¼Œæ”¶é›†æ‰€æœ‰ {} ä»£ç å—å’Œæˆå‘˜å˜é‡èµ‹å€¼çš„ä»£ç ï¼Œå½¢æˆæ–°çš„æ„é€ æ–¹æ³•ï¼Œä½†åŸå§‹æ„é€ æ–¹æ³•å†…çš„ä»£ç æ€»æ˜¯åœ¨æœ€å

![image-20210925163202818](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/ebd4f367720caf54d58e4c166b904064.png)

# æ–¹æ³•è°ƒç”¨

![image-20210925163503713](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/9d86e0263a6177543ef01c9f14eee33e.png)

å­—èŠ‚ç 

![image-20210925163526434](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/0a35d2584d675400c32ec72eac1cdd13.png)

- new æ˜¯åˆ›å»ºã€å¯¹è±¡ã€‘ï¼Œç»™å¯¹è±¡åˆ†é…å †å†…å­˜ï¼Œæ‰§è¡ŒæˆåŠŸä¼šå°†ã€å¯¹è±¡å¼•ç”¨ã€‘å‹å…¥æ“ä½œæ•°æ ˆ
- dup æ˜¯å¤åˆ¶æ“ä½œæ•°æ ˆæ ˆé¡¶çš„å†…å®¹ï¼Œæœ¬ä¾‹å³ä¸ºã€å¯¹è±¡å¼•ç”¨ã€‘ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä»½å¼•ç”¨å‘¢ï¼Œä¸€ä¸ªæ˜¯è¦é…åˆ invokespecial è°ƒç”¨è¯¥å¯¹è±¡çš„æ„é€ æ–¹æ³• â€œ< init >â€ğŸ˜¦)V ï¼ˆä¼šæ¶ˆè€—æ‰æ ˆé¡¶ä¸€ä¸ªå¼•ç”¨ï¼‰ï¼Œå¦ä¸€ä¸ªè¦é…åˆ astore_1 èµ‹å€¼ç»™å±€éƒ¨å˜é‡
- æœ€ç»ˆæ–¹æ³•ï¼ˆfinalï¼‰ï¼Œç§æœ‰æ–¹æ³•ï¼ˆprivateï¼‰ï¼Œæ„é€ æ–¹æ³•éƒ½æ˜¯ç”± invokespecial æŒ‡ä»¤æ¥è°ƒç”¨ï¼Œnvokespecial å’Œinvokestatic  æ˜¯é™æ€ç»‘å®šï¼Œç¼–è¯‘çš„æ—¶å€™å°±å¯ä»¥ç¡®å®šã€‚
- æ™®é€šæˆå‘˜æ–¹æ³•test3æ˜¯ç”± invokevirtual è°ƒç”¨ï¼Œå› ä¸ºä»–æ˜¯publicï¼Œç¼–è¯‘çš„æ—¶å€™ä¸èƒ½ç¡®å®šè¯¥æ–¹æ³•è°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„è¿˜æ˜¯å­ç±»çš„ï¼Œåªæœ‰åœ¨è¿è¡Œçš„æ—¶å€™å¯ä»¥ç¡®å®šã€‚å±äºåŠ¨æ€ç»‘å®šï¼Œå³æ”¯æŒå¤šæ€
- æˆå‘˜æ–¹æ³•ä¸é™æ€æ–¹æ³•è°ƒç”¨çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œæ‰§è¡Œæ–¹æ³•å‰æ˜¯å¦éœ€è¦ã€å¯¹è±¡å¼•ç”¨ã€‘
- æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ d.test4(); æ˜¯é€šè¿‡ã€å¯¹è±¡å¼•ç”¨ã€‘è°ƒç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨invokestatic ä¹‹å‰æ‰§è¡Œäº† pop æŒ‡ä»¤ï¼ŒæŠŠã€å¯¹è±¡å¼•ç”¨ã€‘ä»æ“ä½œæ•°æ ˆå¼¹æ‰äº†
- è¿˜æœ‰ä¸€ä¸ªæ‰§è¡Œ invokespecial çš„æƒ…å†µæ˜¯é€šè¿‡ super è°ƒç”¨çˆ¶ç±»æ–¹æ³•

# å¤šæ€çš„åŸç†

```java
public class Demo3_10 {

    public static void test(Animal animal) {
        animal.eat();
        System.out.println(animal);
    }

    public static void main(String[] args) throws IOException {
        test(new Cat());
        test(new Dog());
        System.in.read();
    }
}

abstract class Animal {
    public abstract void eat();

    @Override
    public String toString() {
        return "æˆ‘æ˜¯" + this.getClass().getSimpleName();
    }
}

class Dog extends Animal {

    @Override
    public void eat() {
        System.out.println("å•ƒéª¨å¤´");
    }
}

class Cat extends Animal {

    @Override
    public void eat() {
        System.out.println("åƒé±¼");
    }
}

```

## 1ï¼‰è¿è¡Œä»£ç 

åœåœ¨ System.in.read() æ–¹æ³•ä¸Šï¼Œè¿™æ—¶è¿è¡Œ jps è·å–è¿›ç¨‹ id

## 2ï¼‰è¿è¡Œ HSDB å·¥å…·

HSDB:èƒ½çœ‹åˆ°è™šæ‹Ÿæœºä¸­æ¯”è¾ƒåº•å±‚çš„å†…å­˜çŠ¶æ€å’Œå†…å­˜åœ°å€

è¿›å…¥ JDK å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œ

```bash
java -cp ./lib/sa-jdi.jar sun.jvm.hotspot.HSDB
```

è¿›å…¥å›¾å½¢ç•Œé¢ attach è¿›ç¨‹ id

## 3ï¼‰æŸ¥æ‰¾æŸä¸ªå¯¹è±¡

æ‰“å¼€ Tools -> Find Object By Query

è¾“å…¥ select d from cn.itcast.jvm.t3.bytecode.Dog d ç‚¹å‡» Execute æ‰§è¡Œ

![image-20210925170422238](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/1ab326698d70879596b74d074ef4075a.png)

## 4ï¼‰æŸ¥çœ‹å¯¹è±¡å†…å­˜ç»“æ„

ç‚¹å‡»è¶…é“¾æ¥å¯ä»¥çœ‹åˆ°å¯¹è±¡çš„å†…å­˜ç»“æ„ï¼Œæ­¤å¯¹è±¡æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œå› æ­¤åªæœ‰å¯¹è±¡å¤´çš„ 16 å­—èŠ‚ï¼Œå‰ 8 å­—èŠ‚æ˜¯MarkWordï¼Œå 8 å­—èŠ‚å°±æ˜¯å¯¹è±¡çš„ Class æŒ‡é’ˆï¼Œä½†ç›®å‰çœ‹ä¸åˆ°å®ƒçš„å®é™…åœ°å€

![image-20210925170554237](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/944ae74c97fdfaf1b6ec98a9e96bed8d.png)

## 5ï¼‰æŸ¥çœ‹å¯¹è±¡ Class çš„å†…å­˜åœ°å€

å¯ä»¥é€šè¿‡ Windows -> Console è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œæ‰§è¡Œ

```bash
mem 0x00000001299b4978 2
1
```

mem æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•° 1 æ˜¯å¯¹è±¡åœ°å€ï¼Œå‚æ•° 2 æ˜¯æŸ¥çœ‹ 2 è¡Œï¼ˆå³ 16 å­—èŠ‚ï¼‰

ç»“æœä¸­ç¬¬äºŒè¡Œ 0x000000001b7d4028 å³ä¸º Class çš„å†…å­˜åœ°å€

![image-20210925170802243](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/b45b495eafdb236233f4a888d18c715c.png)

## 6ï¼‰æŸ¥çœ‹ç±»çš„ vtable

- æ–¹æ³•1ï¼šAlt+R è¿›å…¥ Inspector å·¥å…·ï¼Œè¾“å…¥åˆšæ‰çš„ Class å†…å­˜åœ°å€ï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢

![image-20210925170842197](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/16e916f141f8aa1cc2591cd959557e36.png)

- æ–¹æ³•2ï¼šæˆ–è€… Tools -> Class Browser è¾“å…¥ Dog æŸ¥æ‰¾ï¼Œå¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœ

![image-20210925170914079](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/bdee8e249c6a5b116753dc7cc285a286.png)

æ— è®ºé€šè¿‡å“ªç§æ–¹æ³•ï¼Œéƒ½å¯ä»¥æ‰¾åˆ° Dog Class çš„ vtable é•¿åº¦ä¸º 6ï¼Œæ„æ€å°±æ˜¯ Dog ç±»æœ‰ 6 ä¸ªè™šæ–¹æ³•ï¼ˆå¤šæ€ç›¸å…³çš„ï¼Œfifinalï¼Œstatic ä¸ä¼šåˆ—å…¥ï¼‰

é‚£ä¹ˆè¿™ 6 ä¸ªæ–¹æ³•éƒ½æ˜¯è°å‘¢ï¼Ÿä» Class çš„èµ·å§‹åœ°å€å¼€å§‹ç®—ï¼Œåç§» 0x1b8 å°±æ˜¯ vtable çš„èµ·å§‹åœ°å€ï¼Œè¿›è¡Œè®¡ç®—å¾—åˆ°ï¼š

![image-20210925170950898](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/84df2c634f37f6c235ba254c291d6a86.png)

é€šè¿‡ Windows -> Console è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œæ‰§è¡Œ

```bash
mem 0x000000001b7d41e0 6
1
```

![image-20210925171027439](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/5da504646e01133b6ebf4503c109ad5d.png)

å°±å¾—åˆ°äº† 6 ä¸ªè™šæ–¹æ³•çš„å…¥å£åœ°å€

## 7ï¼‰éªŒè¯æ–¹æ³•åœ°å€

é€šè¿‡ Tools -> Class Browser æŸ¥çœ‹æ¯ä¸ªç±»çš„æ–¹æ³•å®šä¹‰ï¼Œæ¯”è¾ƒå¯çŸ¥

![image-20210925171108398](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/baeab950b6d5a8b6186365ac90bd17c4.png)

å¯¹å·å…¥åº§ï¼Œå‘ç°

- eat() æ–¹æ³•æ˜¯ Dog ç±»è‡ªå·±çš„
- toString() æ–¹æ³•æ˜¯ç»§æ‰¿ String ç±»çš„
- fifinalize() ï¼Œequals()ï¼ŒhashCode()ï¼Œclone() éƒ½æ˜¯ç»§æ‰¿ Object ç±»çš„

## 8ï¼‰å°ç»“

å½“æ‰§è¡Œ invokevirtual æŒ‡ä»¤æ—¶ï¼Œ

1. å…ˆé€šè¿‡æ ˆå¸§ä¸­çš„å¯¹è±¡å¼•ç”¨æ‰¾åˆ°å¯¹è±¡
2. åˆ†æå¯¹è±¡å¤´ï¼Œæ‰¾åˆ°å¯¹è±¡çš„å®é™… Class
3. Class ç»“æ„ä¸­æœ‰ vtableï¼Œå®ƒåœ¨ç±»åŠ è½½çš„é“¾æ¥é˜¶æ®µå°±å·²ç»æ ¹æ®æ–¹æ³•çš„é‡å†™è§„åˆ™ç”Ÿæˆå¥½äº†
4. æŸ¥è¡¨å¾—åˆ°æ–¹æ³•çš„å…·ä½“åœ°å€
5. æ‰§è¡Œæ–¹æ³•çš„å­—èŠ‚ç 

# å¼‚å¸¸å¤„ç†

## try-catch

æºç 

![image-20210925193148430](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/eafbf649da3ea26fb00fe4b2e1ed2872.png)

å­—èŠ‚ç 

![image-20210925193304497](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/1745bed5641f91f00484e07a656547b1.png)

![image-20210925193317991](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/81d5d408a67bc864f7e692558d1d6234.png)

- å¯ä»¥çœ‹åˆ°å¤šå‡ºæ¥ä¸€ä¸ª Exception table çš„ç»“æ„ï¼Œ[from, to) æ˜¯å‰é—­åå¼€çš„æ£€æµ‹èŒƒå›´ï¼Œä¸€æ—¦è¿™ä¸ªèŒƒå›´å†…çš„å­—èŠ‚ç æ‰§è¡Œå‡ºç°å¼‚å¸¸ï¼Œåˆ™é€šè¿‡ type åŒ¹é…å¼‚å¸¸ç±»å‹ï¼Œå¦‚æœä¸€è‡´ï¼Œè¿›å…¥ target æ‰€æŒ‡ç¤ºè¡Œå·
- 8 è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ astore_2 æ˜¯å°†å¼‚å¸¸å¯¹è±¡å¼•ç”¨å­˜å…¥å±€éƒ¨å˜é‡è¡¨çš„ slot 2 ä½ç½®

## å¤šä¸ªsingle-catchå—çš„æƒ…å†µ

æºç 

![image-20210925193411730](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/558a476e79fff65521dccedcf6101029.png)

å­—èŠ‚ç 

![image-20210925193438077](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/9020cb3d54947d7164e6e433070d645b.png)

![image-20210925193450388](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/3d5c96580da1ed9ba2e78feeed0f3dfb.png)

- å› ä¸ºå¼‚å¸¸å‡ºç°æ—¶ï¼Œåªèƒ½è¿›å…¥ Exception table ä¸­ä¸€ä¸ªåˆ†æ”¯ï¼Œæ‰€ä»¥å±€éƒ¨å˜é‡è¡¨ slot 2 ä½ç½®è¢«å…±ç”¨

## multi-catchçš„æƒ…å†µ

æºç 

![image-20210925193530484](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/c09ca222aa1bc652671fbddd6e1a59e5.png)

å­—èŠ‚ç 

![image-20210925193553253](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/aac2d37c40b0aec93f153ccfe5f69d3b.png)

![image-20210925193605329](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/7aef6bc9275b40121474319e4b87f526.png)

## finally

æºç 

![image-20210925193627842](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/06612af3ff1be7b75cc29671915be8ba.png)

å­—èŠ‚ç 

![image-20210925193652990](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/2d7c03c7fe59cbc01b7024cadf0db1a2.png)

![image-20210925193705582](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/6dde09348ea08b8c91455de8cc3a6597.png)

å¯ä»¥çœ‹åˆ° fifinally ä¸­çš„ä»£ç è¢«å¤åˆ¶äº† 3 ä»½ï¼Œåˆ†åˆ«æ”¾å…¥ try æµç¨‹ï¼Œcatch æµç¨‹ä»¥åŠ catch å‰©ä½™çš„å¼‚å¸¸ç±»å‹æµç¨‹

# ç»ƒä¹ -finallyé¢è¯•é¢˜

## finallyå‡ºç°äº†return

æºç 

![image-20210925193812575](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/e4a5856912ccd1bf8a8d8eea459432a1.png)

- è¾“å‡º20

å­—èŠ‚ç 

![image-20210925193839362](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/a700a013322d9538c7ccf8f73b8a2120.png)

![image-20210925193851730](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/4b0b19f5ef965e4f34737a29cffbaafc.png)

- è¾“å‡º20
- ç”±äº finally ä¸­çš„ ireturn è¢«æ’å…¥äº†æ‰€æœ‰å¯èƒ½çš„æµç¨‹ï¼Œå› æ­¤è¿”å›ç»“æœè‚¯å®šä»¥ finally çš„ä¸ºå‡†
- è‡³äºå­—èŠ‚ç ä¸­ç¬¬ 2 è¡Œï¼Œä¼¼ä¹æ²¡å•¥ç”¨ï¼Œä¸”ç•™ä¸ªä¼ç¬”ï¼Œçœ‹ä¸‹ä¸ªä¾‹å­
- è·Ÿä¸Šä¾‹ä¸­çš„ fifinally ç›¸æ¯”ï¼Œå‘ç°æ²¡æœ‰ athrow äº†ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬ï¼šå¦‚æœåœ¨ fifinally ä¸­å‡ºç°äº† returnï¼Œä¼šåæ‰å¼‚å¸¸ï¼Œå¯ä»¥è¯•ä¸€ä¸‹ä¸‹é¢çš„ä»£ç 

![image-20210925193952176](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/4b87ceee484684bc303cf9536c4a3d6a.png)

## finallyå¯¹è¿”å›å€¼çš„å½±å“

æºç 

![image-20210925194018660](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/81ef427a2c91d7cbddad7d206a082a7c.png)

å­—èŠ‚ç 

![image-20210925194154627](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/9cbb59e5c42f040d3d36af87a5fe27e5.png)

# synchronized

æºç 

![image-20210925194245536](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/6f854353f32c24738ebc85f0e35bc885.png)

- å¦‚ä½•ä¿è¯synchronizeåœ¨é‡åˆ°å¼‚å¸¸æ—¶ä¹Ÿèƒ½æ­£å¸¸è§£é”ï¼ˆé€šè¿‡å¼‚å¸¸å¤„ç†ï¼‰

å­—èŠ‚ç 

![image-20210925194342854](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/46c05349a826d187458c1a9ec8a5cb8c.png)

![image-20210925194405057](https://mynotepicbed.oss-cn-beijing.aliyuncs.com/img/17f3d3481c1cbf41e9780390008c834b.png)

# å‚è€ƒèµ„æ–™

## å­—èŠ‚ç æŒ‡ä»¤åˆé›†

[Chapter 6. The Java Virtual Machine Instruction Set (oracle.com)](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5)

